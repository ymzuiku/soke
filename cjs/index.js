var o=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var f=t=>o(t,"__esModule",{value:!0});var S=(t,n)=>{for(var a in n)o(t,a,{get:n[a],enumerable:!0})},_=(t,n,a,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of d(n))!l.call(t,r)&&(a||r!=="default")&&o(t,r,{get:()=>n[r],enumerable:!(e=y(n,r))||e.enumerable});return t};var p=(t=>(n,a)=>t&&t.get(n)||(a=_(f({}),n,1),t&&t.set(n,a),a))(typeof WeakMap!="undefined"?new WeakMap:0);var A={};S(A,{firstError:()=>h,soke:()=>I,throwFirstError:()=>q,validateSoke:()=>b});var I={string:t=>c("string",t),array:t=>c("array",t),bool:t=>c("boolean",t),object:t=>c("object",t),number:t=>c("number",t)};function c(t,n){let e={__tiny:{type:t,errors:{type:n||"Need type is: "+t,matches:[]},matches:[]},required:r=>(e.__tiny.errors.required=r||n||"Need required",e.__tiny.requred=!0,e),matches:(r,s)=>(e.__tiny.errors.matches.push(s||n||"Matches error: "+String(r)),e.__tiny.matches.push(r),e),len:(r,s)=>(e.__tiny.errors.len=s||n||"Length no equal: "+r,e.__tiny.len=r,e),equal:(r,s)=>(e.__tiny.errors.equal=s||n||"Not equal the val",e.__tiny.equal=r,e),equalByKey:(r,s)=>(e.__tiny.errors.equalByKey=s||n||"Not equal by: "+r,e.__tiny.equalByKey=r,e),min:(r,s)=>(e.__tiny.errors.min=s||n||"Need min: "+r,e.__tiny.min=r,e),max:(r,s)=>(e.__tiny.errors.max=s||n||"Need max: "+r,e.__tiny.max=r,e),pick:(r,s)=>(e.__tiny.errors.pick=s||n||"Need in list: "+r,e.__tiny.pick=new Set(r),e),notPick:(r,s)=>(e.__tiny.errors.notPick=s||n||"Need not in list: "+r,e.__tiny.notPick=new Set(r),e),password:r=>(e.matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/,r),e),passwordStrong:r=>(e.matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,r),e),email:r=>(e.matches(/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,r),e),chinaPhone:r=>(e.matches(/^(?:(?:\+|00)86)?1\d{10}$/,r),e),chinaId:r=>(e.matches(/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/,r),e),url:r=>(e.matches(/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/,r),e),bank:r=>(e.matches(/^[1-9]\d{9,29}$/,r),e),chinaName:r=>(e.matches(/^(?:[\u4e00-\u9fa5·]{2,16})$/,r),e),chinaCar:r=>(e.matches(/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-HJ-NP-Z][A-HJ-NP-Z0-9]{4,5}[A-HJ-NP-Z0-9挂学警港澳]$/,r),e),hkId:r=>(e.matches(/^[a-zA-Z]\d{6}\([\dA]\)$/,r),e),number:r=>(e.matches(/^\d+$/,r),e),username:r=>(e.matches(/^[a-zA-Z0-9_-]{4,16}$/,r),e),letterOrNumber:r=>(e.matches(/^[A-Za-z0-9]+$/,r),e),letterAndNumber:r=>(e.matches(/^(?=.*[a-zA-Z])(?=.*\d).+$/,r),e),letter:r=>(e.matches(/^[a-zA-Z]+$/,r),e),uuid:r=>(e.matches(/^[a-f\d]{4}(?:[a-f\d]{4}-){4}[a-f\d]{12}$/i,r),e),integer:r=>(e.matches(/^-?[1-9]\d*$/,r),e),date:r=>(e.matches(/^\d{4}([/:-\S])(1[0-2]|0?[1-9])\1(0?[1-9]|[1-2]\d|30|31) (?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d$/,r),e)};return e}var g={type:(t,n)=>n===void 0||n==="array"&&Array.isArray(t)?!0:typeof t===n,min:(t,n)=>n===void 0?!0:typeof t=="number"?t>n:t&&t.length?t.length>n:!1,max:(t,n)=>n===void 0?!0:typeof t=="number"?t<n:t&&t.length?t.length<n:!1,pick:(t,n)=>n===void 0?!0:!(!t||Array.isArray(t)&&t.find(a=>!n.has(a))||!n.has(t)),notPick:(t,n)=>n===void 0?!0:!(!t||Array.isArray(t)&&t.find(a=>n.has(a))||n.has(t))};function b(t,n,a){let e={},r=s=>{if(!t[s])return"";let i=t[s].__tiny,m=n[s];if(m!==void 0&&!g.type(m,i.type))return i.errors.type;if(i.requred&&!m)return i.errors.required;if(!g.min(m,i.min))return i.errors.min;if(!g.max(m,i.max))return i.errors.max;if(i.len&&typeof m=="string"&&m.length!==i.len)return i.errors.len;if(i.equal&&m!==i.equal)return i.errors.equal;if(i.equalByKey&&m!==n[i.equalByKey])return i.errors.equalByKey;if(i.matches.length){for(let u=0;u<i.matches.length;u++)if(!i.matches[u].test(m))return i.errors.matches[u]}return g.pick(m,i.pick)?g.notPick(m,i.notPick)?"":i.errors.notPick:i.errors.pick};if(a)e[a]=r(a);else{let s=Object.keys(t);for(let i=0;i<s.length;i++){let m=s[i],u=r(m);e[m]=u}}return e}function h(t,n){let a=Object.keys(t),e="";for(let r=0;r<a.length;r++){let s=n[a[r]];if(s){e=s;break}}return e}function q(t,n){let a=h(t,n);if(a)throw new Error(a)}module.exports=p(A);
